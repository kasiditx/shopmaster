# =============================================================================
# ShopMaster E-commerce Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port number for the backend server
PORT=5000

# Environment: development, staging, production
NODE_ENV=development

# Client URL(s) - comma-separated list of allowed CORS origins
# Development: http://localhost:3000
# Production: https://yourdomain.com
CLIENT_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# MongoDB connection string
# Local: mongodb://localhost:27017/shopmaster
# Docker: mongodb://admin:admin123@mongodb:27017/shopmaster?authSource=admin
# Atlas: mongodb+srv://username:password@cluster.mongodb.net/shopmaster
MONGO_URI=mongodb://localhost:27017/shopmaster

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection URL
# Local: redis://localhost:6379
# Docker: redis://redis:6379
# Cloud: redis://username:password@host:port
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# JWT Authentication Configuration
# -----------------------------------------------------------------------------
# Secret key for JWT access tokens (use strong random string in production)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_here_change_in_production

# Secret key for JWT refresh tokens (use different key than JWT_SECRET)
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here_change_in_production

# JWT token expiration times
# Access token: 15m (15 minutes)
# Refresh token: 7d (7 days)
JWT_EXPIRE=15m
REFRESH_TOKEN_EXPIRE=7d

# -----------------------------------------------------------------------------
# Stripe Payment Configuration
# -----------------------------------------------------------------------------
# Stripe secret key (get from https://dashboard.stripe.com/apikeys)
# Test mode: sk_test_...
# Live mode: sk_live_...
STRIPE_SECRET_KEY=your_stripe_secret_key_here

# Stripe webhook secret (get from https://dashboard.stripe.com/webhooks)
# Used to verify webhook signatures
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret_here

# Stripe publishable key (for frontend)
STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key_here

# -----------------------------------------------------------------------------
# Email Configuration (Nodemailer)
# -----------------------------------------------------------------------------
# SMTP server hostname
# Gmail: smtp.gmail.com
# SendGrid: smtp.sendgrid.net
# Ethereal (testing): smtp.ethereal.email
EMAIL_HOST=smtp.ethereal.email

# SMTP port (587 for TLS, 465 for SSL)
EMAIL_PORT=587

# Use SSL/TLS (true/false)
EMAIL_SECURE=false

# SMTP authentication username
EMAIL_USER=your_email_user_here

# SMTP authentication password
EMAIL_PASSWORD=your_email_password_here

# From address for outgoing emails
EMAIL_FROM="ShopMaster <noreply@shopmaster.com>"

# -----------------------------------------------------------------------------
# Cloudinary Configuration (Image Storage)
# -----------------------------------------------------------------------------
# Cloudinary cloud name (get from https://cloudinary.com/console)
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name_here

# Cloudinary API key
CLOUDINARY_API_KEY=your_cloudinary_api_key_here

# Cloudinary API secret
CLOUDINARY_API_SECRET=your_cloudinary_api_secret_here

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Time window for rate limiting (in milliseconds)
# 15 minutes = 900000ms
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests per window
RATE_LIMIT_MAX_REQUESTS=100

# Login rate limit (attempts per window)
LOGIN_RATE_LIMIT=5

# -----------------------------------------------------------------------------
# Sentry Error Tracking (Optional)
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking (get from https://sentry.io)
# Leave empty to disable Sentry
SENTRY_DSN=

# Sentry environment name
SENTRY_ENVIRONMENT=development

# Sentry traces sample rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# -----------------------------------------------------------------------------
# Elastic APM Performance Monitoring (Optional)
# -----------------------------------------------------------------------------
# Elastic APM server URL (e.g., http://localhost:8200)
# Leave empty to disable APM
ELASTIC_APM_SERVER_URL=

# Elastic APM service name
ELASTIC_APM_SERVICE_NAME=shopmaster-ecommerce

# Elastic APM secret token (if required by your APM server)
ELASTIC_APM_SECRET_TOKEN=

# APM transaction sample rate (0.0 to 1.0)
# 1.0 = 100% of transactions, 0.1 = 10% of transactions
ELASTIC_APM_TRANSACTION_SAMPLE_RATE=1.0

# APM log level: trace, debug, info, warn, error, fatal
ELASTIC_APM_LOG_LEVEL=info

# Enable/disable APM (true/false)
ELASTIC_APM_ACTIVE=true

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log file path
LOG_FILE_PATH=./logs

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------
# Session secret for cookie signing
SESSION_SECRET=your_session_secret_here_change_in_production

# Session expiration time (in milliseconds)
# 24 hours = 86400000ms
SESSION_EXPIRE_MS=86400000

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Default pagination limit
DEFAULT_PAGE_LIMIT=20

# Maximum file upload size (in bytes)
# 5MB = 5242880 bytes
MAX_FILE_SIZE=5242880

# Low stock threshold for inventory alerts
LOW_STOCK_THRESHOLD=10

# Tax rate (as decimal, e.g., 0.07 for 7%)
TAX_RATE=0.07

# Shipping cost (in cents)
SHIPPING_COST=500

# -----------------------------------------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------------------------------------
# Enable/disable features
ENABLE_WISHLIST=true
ENABLE_REVIEWS=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=false
